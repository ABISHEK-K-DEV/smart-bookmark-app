Smart Bookmark App

A modern, real-time bookmark manager built with Next.js, Supabase, and Tailwind CSS. Features Google OAuth authentication, private bookmark storage, instant cross-tab synchronization, and a polished responsive UI.

Live Demo: https://smart-bookmark-app-kappa-navy.vercel.app/

Tech Stack

- Frontend: Next.js 16 (App Router), React 19
- Styling: Tailwind CSS v4
- Backend: Supabase (Database, Auth, Realtime)
- Notifications: react-hot-toast
- Deployment: Vercel

Database Schema

```sql
-- Bookmarks table
CREATE TABLE bookmarks (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  user_id UUID REFERENCES auth.users NOT NULL,
  title TEXT,
  url TEXT NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- Row Level Security
ALTER TABLE bookmarks ENABLE ROW LEVEL SECURITY;

-- RLS Policies
CREATE POLICY "Users can view their own bookmarks" 
  ON bookmarks FOR SELECT 
  USING (auth.uid() = user_id);

CREATE POLICY "Users can insert their own bookmarks" 
  ON bookmarks FOR INSERT 
  WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update their own bookmarks" 
  ON bookmarks FOR UPDATE 
  USING (auth.uid() = user_id);

CREATE POLICY "Users can delete their own bookmarks" 
  ON bookmarks FOR DELETE 
  USING (auth.uid() = user_id);

-- Enable Realtime
ALTER PUBLICATION supabase_realtime ADD TABLE bookmarks;
ALTER TABLE bookmarks REPLICA IDENTITY FULL;
```

Data Flow & Architecture

1. Authentication: User signs in with Google OAuth → Supabase creates session → Auth middleware manages cookies
2. Bookmark Creation: User submits form → Client validates → Supabase inserts with user_id → Realtime event broadcast → UI updates
3. Real-time Sync: Database changes → Supabase Realtime → Client subscription → Local state update → Instant UI refresh
4. Data Privacy: All database operations filtered by RLS policies using auth.uid() = user_id

Features

- Google OAuth authentication with secure session management
- Private bookmark storage with Row Level Security (RLS)
- Real-time synchronization across multiple browser tabs
- Modern responsive UI with smooth transitions and hover effects
- Toast notifications for all user actions (add, delete, auth)
- Card-based bookmark display with title, URL, and creation timestamp
- Optimistic updates for instant feedback

Problems I Encountered & How I Solved Them

1. Configuring Google OAuth Redirects
Problem: During initial testing, Google login failed with a generic error or redirected incorrectly.
Solution: I realized that both the local URL (`http://localhost:3000/auth/callback`) and the production Vercel URL needed to be explicitly added to the Authorized redirect URIs in the Google Cloud Console. I also had to insure the Supabase URL was correct (using `.co` not `.io` or typos).

2. Real-time Updates Production Issues
Problem: Real-time bookmarks worked locally but failed in production, especially for DELETE operations.
Solution: I implemented a robust subscription lifecycle with proper auth session handling, normalized ID comparisons to handle number/string mismatches, and added optimistic local updates. I also ensured proper Supabase Realtime configuration.

3. Row Level Security (RLS) policies
Problem: Ensuring user privacy so User A cannot see User B's bookmarks.
Solution: I enabled RLS on the `bookmarks` table in Supabase and wrote specific policies (e.g., `using (auth.uid() = user_id)`) for SELECT, INSERT, UPDATE, and DELETE operations. This enforces data isolation at the database level.

4. UI/UX Polish
Problem: Basic UI lacked modern polish and professional feedback.
Solution: I implemented a gradient background, card-based layouts, smooth transitions, cursor-pointer states, and replaced alerts with toast notifications for all user actions.
